            const books = [
            {
                id: 1,
                title: "Treasure Island",
                author: "Robert Louis Steveson",
                price: 1099,
                image: "./product/product1.jpg",
                category: "Adventure",
            },
            {
                id: 2,
                title: "Heart Of Darkness",
                author: "Joseph Conrad",
                price: 999,
                image: "./product/product2.jpg",
                category: "Adventure",
            },
            {
                id: 3,
                title: "The Hobbit",
                author: "J.R.R. Tolkein",
                price: 2249,
                image: "./product/product3.jpg",
                category: "Adventure",
            },
            {
                id: 4,
                title: "5000 Miles To India",
                author: "Madhan Gopal Bali",
                price: 1199,
                image: "./product/product4.jpg",
                category: "Adventure",
            },
            {
                id: 5,
                title: "The Odessy Homer",
                author: "Emily Wilson",
                price: 1699,
                image: "./product/product5.jpg",
                category: "Adventure",
            },
            {
                id: 6,
                title: "Listen To Your Sister",
                author: "Neena Viel",
                price: 1549,
                image: "./Hproduct/Hproduct1.jpg",
                category: "Horror",
            },
            {
                id: 7,
                title: "The Haunting Of Room 904",
                author: "Erika T Wruth",
                price: 2149,
                image: "./Hproduct/Hproduct2.jpg",
                category: "Horror",
            },
            {
                id: 8,
                title: "Their Monstrous Heart",
                author: "Yigit Turhan",
                price: 1299,
                image: "./Hproduct/Hproduct3.jpg",
                category: "Horror",
            },
            {
                id: 9,
                title: "Enchantra",
                author: "Kaylie Smith",
                price: 2349,
                image: "./Hproduct/Hproduct4.jpg",
                category: "Horror",
            },
            {
                id: 10,
                title: "Watch Me",
                author: "Tahereh Mafi",
                price: 2799,
                image: "./Hproduct/Hproduct5.jpg",
                category: "Horror",
            },
            {
                id: 11,
                title: "The Color Of Magic",
                author: "Terry Pratchett",
                price: 1999,
                image: "./Cproduct/Cproduct1.jpg",
                category: "Comedy",
            },
            {
                id: 12,
                title: "The Importance Of Being Ernest",
                author: "Oscar Wilde",
                price: 1649,
                image: "./Cproduct/Cproduct2.jpg",
                category: "Comedy",
            },
            {
                id: 13,
                title: "The Light Fantastic",
                author: "Terry Pratchett",
                price: 2299,
                image: "./Cproduct/Cproduct3.jpg",
                category: "Comedy",
            },
            {
                id: 14,
                title: "I Am America",
                author: "Stephen Colbert",
                price: 1899,
                image: "./Cproduct/Cproduct4.jpg",
                category: "Comedy",
            },
            {
                id: 15,
                title: "Yes Please",
                author: "Amy Poehler",
                price: 1499,
                image: "./Cproduct/Cproduct5.jpg",
                category: "Comedy",
            },
            {
                id: 16,
                title: "The Dark mirror",
                author: "Samantha Shannon",
                price: 2049,
                image: "./Fproduct/Fproduct1.jpg",
                category: "Fantasy",
            },
            {
                id: 17,
                title: "Cursebound",
                author: "Sarah El-Arifi",
                price: 1849,
                image: "./Fproduct/Fproduct2.jpg",
                category: "Fantasy",
            },
            {
                id: 18,
                title: "Oathbound",
                author: "Tracy Deonn",
                price: 1399,
                image: "./Fproduct/Fproduct3.jpg",
                category: "Fantasy",
            },
            {
                id: 19,
                title: "Rebel Witch",
                author: "Kristen Ciccarelli",
                price: 2999,
                image: "./Fproduct/Fproduct4.jpg",
                category: "Fantasy",
            },
            {
                id: 20,
                title: "Onyx Storm",
                author: "Rebecca yarros",
                price: 1499,
                image: "./Fproduct/Fproduct5.jpg",
                category: "Fantasy",
            },
            {
                id: 21,
                title: "Why On Earth",
                author: "Rosiee Thor and Vanina Stoyanova",
                price: 2349,
                image: "./Sproduct/Sproduct1.jpg",
                category: "Science Fiction",
            },
            {
                id: 22,
                title: "The Fourth Consort",
                author: "Edward Ashton",
                price: 2279,
                image: "./Sproduct/Sproduct2.jpg",
                category: "Science Fiction",
            },
            {
                id: 23,
                title: "Shroud",
                author: "Adrian Tchaikovsky",
                price: 2139,
                image: "./Sproduct/Sproduct3.jpg",
                category: "Science Fiction",
            },
            {
                id: 24,
                title: "Exodus",
                author: "peter F Hamilton",
                price: 1999,
                image: "./Sproduct/Sproduct4.jpg",
                category: "Science Fiction",
            },
            {
                id: 25,
                title: "Deep Black",
                author: "Miles Cameron",
                price: 1869,
                image: "./Sproduct/Sproduct5.jpg",
                category: "Science Fiction",
            },
            {
                id: 26,
                title: "Where The Sidewalk Ends",
                author: "Shel Silverstein",
                price: 2599,
                image: "./Kproduct/Kproduct1.jpg",
                category: "Kids",
            },
            {
                id: 27,
                title: "Green Eggs And Ham",
                author: "Dr. Seuss",
                price: 2349,
                image: "./Kproduct/Kproduct2.jpg",
                category: "Kids",
            },
            {
                id: 28,
                title: "Dog Man",
                author: "Dav Pilkey",
                price: 2099,
                image: "./Kproduct/Kproduct3.jpg",
                category: "Kids",
            },
            {
                id: 29,
                title: "Big Nate From The Top",
                author: "Lincoln Peirce",
                price: 1859,
                image: "./Kproduct/Kproduct4.jpg",
                category: "Kids",
            },
            {
                id: 30,
                title: "Diary Of A Wimpy Kid",
                author: "Jeff Kinney",
                price: 3099,
                image: "./Kproduct/Kproduct5.jpg",
                category: "Kids",
            },
            {
                id: 31,
                title: "Cult Of Carnage : Misery",
                author: "Sabir Pirzada",
                price: 3199,
                image: "./Mproduct/Mproduct1.jpg",
                category: "Comics",
            },
            {
                id: 32,
                title: "Eternals",
                author: "Jack Kirby",
                price: 3049,
                image: "./Mproduct/Mproduct2.jpg",
                category: "Comics",
            },
            {
                id: 33,
                title: "Superman and Justice League",
                author: "Jerry Siegel",
                price: 2949,
                image: "./Mproduct/Mproduct3.jpg",
                category: "Comics",
            },
            {
                id: 34,
                title: "Thor : Herald Of None",
                author: "Donny Cates",
                price: 3499,
                image: "./Mproduct/Mproduct4.png",
                category: "Comics",
            },
            {
                id: 35,
                title: "Joker",
                author: "Brian Azzarello",
                price: 3599,
                image: "./Mproduct/Mproduct5.jpg",
                category: "Comics",
            }
        ];

        let cart = [];
        let currentCategory = "All";
        let currentSearchTerm = "";

        const booksContainer = document.getElementById('booksContainer');
        const categoryButtons = document.querySelectorAll('.category-btn');
        const categoryLinks = document.querySelectorAll('.dropdown-content a');
        const cartBtn = document.getElementById('cartBtn');
        const cartModal = document.getElementById('cartModal');
        const closeCart = document.getElementById('closeCart');
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartTotal = document.getElementById('cartTotal');
        const cartCount = document.getElementById('cartCount');
        const checkoutForm = document.getElementById('checkoutForm');
        const paymentForm = document.getElementById('paymentForm');
        const paymentSuccess = document.getElementById('paymentSuccess');
        const continueShoppingBtn = document.getElementById('continueShoppingBtn');
        const emptyCartMsg = document.getElementById('emptyCartMsg');
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const noResults = document.getElementById('noResults');

        document.addEventListener('DOMContentLoaded', function() {
            filterBooks();
            
            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    setActiveCategory(category);
                });
            });
            
            categoryLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const category = this.getAttribute('data-category');
                    setActiveCategory(category);
                });
            });
            
            searchButton.addEventListener('click', function(e) {
                e.preventDefault();
                currentSearchTerm = searchInput.value.trim();
                filterBooks();
            });
            
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    currentSearchTerm = searchInput.value.trim();
                    filterBooks();
                }
            });
        });

        function filterBooks() {
            let filteredBooks = books;
            
            if (currentCategory !== "All") {
                filteredBooks = filteredBooks.filter(book => book.category === currentCategory);
            }
            
            if (currentSearchTerm) {
                const searchTermLower = currentSearchTerm.toLowerCase();
                filteredBooks = filteredBooks.filter(book => 
                    book.title.toLowerCase().includes(searchTermLower) || 
                    book.author.toLowerCase().includes(searchTermLower) || 
                    book.category.toLowerCase().includes(searchTermLower)
                );
            }
            
            if (filteredBooks.length === 0) {
                booksContainer.innerHTML = '';
                noResults.style.display = 'block';
            } else {
                noResults.style.display = 'none';
                displayBooks(filteredBooks);
            }
        }

        function displayBooks(booksToDisplay) {
            booksContainer.innerHTML = '';
            
            booksToDisplay.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.classList.add('book-card');
                
                bookCard.innerHTML = `
                    <div class="book-img">
                        <img src="${book.image}" alt="${book.title}">
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">by ${book.author}</p>
                        <span class="book-category">${book.category}</span>
                        <p class="book-price">₹${book.price.toFixed(2)}</p>
                        <button class="btn add-to-cart" data-id="${book.id}">Add to Cart</button>
                    </div>
                `;
                
                booksContainer.appendChild(bookCard);
            });
            
            const addToCartButtons = document.querySelectorAll('.add-to-cart');
            addToCartButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const bookId = parseInt(this.getAttribute('data-id'));
                    addToCart(bookId);
                });
            });
        }

        function setActiveCategory(category) {
            currentCategory = category;
            
            categoryButtons.forEach(button => {
                if (button.getAttribute('data-category') === category) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
            
            document.querySelector('.section-title').textContent = 
                category === "All" ? "Featured Books" : `${category} Books`;
            
            filterBooks();
        }

        function addToCart(bookId) {
            const book = books.find(book => book.id === bookId);
            
            const existingItem = cart.find(item => item.id === bookId);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    id: bookId,
                    title: book.title,
                    author: book.author,
                    price: book.price,
                    category: book.category,
                    quantity: 1,
                    image: book.image
                });
            }
            
            updateCartCount();
            updateCart();
            
            alert(`${book.title} has been added to your cart!`);
        }

        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

function updateCart() {
    cartItemsContainer.innerHTML = '';
    
    if (cart.length === 0) {
        emptyCartMsg.style.display = 'block';
        paymentForm.style.display = 'none';
        return;
    }
    
    emptyCartMsg.style.display = 'none';
    paymentForm.style.display = 'block';
    
    cart.forEach(item => {
        const cartItem = document.createElement('div');
        cartItem.classList.add('cart-item');
        
        cartItem.innerHTML = `
            <div class="cart-item-info">
                <div class="cart-item-title">${item.title}</div>
                <div class="cart-item-price">₹${item.price.toFixed(2)} x ${item.quantity}</div>
            </div>
            <div class="cart-item-total">₹${(item.price * item.quantity).toFixed(2)}</div>
            <button class="remove-btn" data-id="${item.id}">Remove</button>
        `;
        
        cartItemsContainer.appendChild(cartItem);
    });
    
    const removeButtons = document.querySelectorAll('.remove-btn');
    removeButtons.forEach(button => {
        button.addEventListener('click', function() {
            const bookId = parseInt(this.getAttribute('data-id'));
            removeFromCart(bookId);
        });
    });
    
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    cartTotal.textContent = `Total: ₹${total.toFixed(2)}`;
}

        function removeFromCart(bookId) {
            cart = cart.filter(item => item.id !== bookId);
            updateCartCount();
            updateCart();
        }

        cartBtn.addEventListener('click', function() {
            cartModal.style.display = 'block';
            updateCart();
        });

        closeCart.addEventListener('click', function() {
            cartModal.style.display = 'none';
        });

        window.addEventListener('click', function(event) {
            if (event.target === cartModal) {
                cartModal.style.display = 'none';
            }
        });

        checkoutForm.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const address = document.getElementById('address').value;
            const cardNumber = document.getElementById('cardNumber').value;
            const expDate = document.getElementById('expDate').value;
            const cvv = document.getElementById('cvv').value;
            
            if (!name || !email || !address || !cardNumber || !expDate || !cvv) {
                alert('Please fill in all required fields');
                return;
            }   
            
            setTimeout(() => {
                cartItemsContainer.style.display = 'none';
                cartTotal.style.display = 'none';
                paymentForm.style.display = 'none';
                
                paymentSuccess.style.display = 'block';
                
                cart = [];
                updateCartCount();
            }, 1000);
        });

        continueShoppingBtn.addEventListener('click', function() {
            cartModal.style.display = 'none';
            paymentSuccess.style.display = 'none';
            cartItemsContainer.style.display = 'block';
            cartTotal.style.display = 'block';
            paymentForm.style.display = 'block';
            checkoutForm.reset();
            updateCart();
        });